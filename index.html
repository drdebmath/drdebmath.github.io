<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debasish Pattanayak</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
</head>
<body>
    <div id="root"></div>
    
    <!-- React Application -->
    <script>
        const { useState, useEffect } = React;
        const e = React.createElement;

        const Tab = ({ id, label, active, onClick }) => {
            return e('button', {
                onClick: () => onClick(id),
                className: `px-4 py-2 ${active ? 'bg-blue-600 text-white' : 'text-gray-600 hover:bg-gray-100'} rounded-lg`
            }, label);
        };

        const Timeline = ({ positions }) => {
            return e('div', { className: 'mt-8 space-y-8 relative' },
                // Single rocket at the top
                e('div', { className: 'flex justify-center mb-4' },
    e('svg', {
        xmlns: 'http://www.w3.org/2000/svg',
        viewBox: '0 0 100 100',
        className: 'w-16 h-16'
    },
        // Gradient for metallic effect
        e('defs', null,
            e('linearGradient', {
                id: 'metallic',
                x1: '0%',
                y1: '0%',
                x2: '100%',
                y2: '0%'
            },
                e('stop', {
                    offset: '0%',
                    style: { stopColor: '#A1A1AA', stopOpacity: 1 }
                }),
                e('stop', {
                    offset: '50%',
                    style: { stopColor: '#D4D4D8', stopOpacity: 1 }
                }),
                e('stop', {
                    offset: '100%',
                    style: { stopColor: '#A1A1AA', stopOpacity: 1 }
                })
            )
        ),
        // Main body cylinder
        e('path', {
            d: 'M45 85 L45 30 C45 25 55 25 55 30 L55 85 C55 90 45 90 45 85',
            fill: 'url(#metallic)',
            stroke: '#71717A',
            strokeWidth: '1'
        }),
        // Nose cone
        e('path', {
            d: 'M45 30 C45 25 50 15 50 15 C50 15 55 25 55 30',
            fill: 'url(#metallic)',
            stroke: '#71717A',
            strokeWidth: '1'
        }),
        // Upper flaps
        e('path', {
            d: 'M45 35 L35 40 L45 45',
            fill: '#A1A1AA',
            stroke: '#71717A',
            strokeWidth: '1'
        }),
        e('path', {
            d: 'M55 35 L65 40 L55 45',
            fill: '#A1A1AA',
            stroke: '#71717A',
            strokeWidth: '1'
        }),
        // Lower flaps
        e('path', {
            d: 'M45 75 L30 85 L45 85',
            fill: '#A1A1AA',
            stroke: '#71717A',
            strokeWidth: '1'
        }),
        e('path', {
            d: 'M55 75 L70 85 L55 85',
            fill: '#A1A1AA',
            stroke: '#71717A',
            strokeWidth: '1'
        }),
        // Windows
        e('circle', {
            cx: '50',
            cy: '40',
            r: '2',
            fill: '#18181B',
            stroke: '#71717A',
            strokeWidth: '0.5'
        }),
        // Engine flame effect
        e('path', {
            d: 'M45 85 Q50 100 55 85',
            fill: 'none',
            stroke: '#EF4444',
            strokeWidth: '2'
        },
            e('animate', {
                attributeName: 'd',
                dur: '0.5s',
                repeatCount: 'indefinite',
                values: 'M45 85 Q50 100 55 85;M45 85 Q50 90 55 85;M45 85 Q50 100 55 85'
            })
        ),
        // Additional engine flame for more realistic effect
        e('path', {
            d: 'M47 85 Q50 95 53 85',
            fill: 'none',
            stroke: '#FCA5A5',
            strokeWidth: '1.5'
        },
            e('animate', {
                attributeName: 'd',
                dur: '0.3s',
                repeatCount: 'indefinite',
                values: 'M47 85 Q50 95 53 85;M47 85 Q50 88 53 85;M47 85 Q50 95 53 85'
            })
        )
    )
),
                // Timeline line
                e('div', { 
                    className: 'absolute left-1/2 top-16 bottom-0 w-0.5 bg-blue-200 transform -translate-x-1/2',
                    style: { zIndex: 0 }
                }),
                // Timeline items
                positions
                    .sort((a, b) => new Date(b.start_date) - new Date(a.start_date))
                    .map((position, index) => 
                        e('div', { 
                            key: index,
                            className: 'relative flex items-center' 
                        },
                            // Dot indicator
                            e('div', { 
                                className: 'absolute left-1/2 w-4 h-4 rounded-full bg-blue-500 border-2 border-white transform -translate-x-1/2',
                                style: { zIndex: 1 }
                            }),
                            // Content
                            e('div', { 
                                className: `w-1/2 ${index % 2 === 0 ? 'pr-8 text-right' : 'pl-8 ml-auto'}`,
                            },
                                e('div', { 
                                    className: 'bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow'
                                },
                                    e('h3', { className: 'font-bold text-gray-900' }, 
                                        position.title || position.tile
                                    ),
                                    e('p', { className: 'mt-1 text-gray-600' },
                                        `at ${position.institution.name}`
                                    ),
                                    position.institution.supervisor && e('p', { className: 'mt-1 text-sm text-gray-500' },
                                        `with ${position.institution.supervisor.name}`
                                    ),
                                    e('div', { className: 'mt-2 text-sm text-gray-500' },
                                        `${new Date(position.start_date).toLocaleDateString('en-US', {
                                            month: 'short',
                                            year: 'numeric'
                                        })} ${position.end_date ? `- ${new Date(position.end_date).toLocaleDateString('en-US', {
                                            month: 'short',
                                            year: 'numeric'
                                        })}` : ''}`
                                    )
                                )
                            )
                        )
                    )
            );
        };

        const About = ({ data }) => {
            return e('div', { className: 'space-y-6' },
                e('div', { className: 'bg-white p-6 rounded-lg shadow' },
                    e('div', { className: 'mt-4' },
                        e('h3', { className: 'font-semibold mb-2' }, 'Research Areas:'),
                        e('div', { className: 'flex flex-wrap gap-2' },
                            data.research.map((topic, index) =>
                                e('span', {
                                    key: index,
                                    className: 'bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm'
                                }, topic)
                            )
                        )
                    ),
                    e('div', { className: 'mt-6' },
                        e('h3', { className: 'font-semibold mb-2' }, 'Bio:'),
                        e('p', { className: 'text-gray-600' }, data.about_me.biodata.short_bio[0])
                    )
                ),
                e(News, { data }),
                e('div', { className: 'bg-white p-6 rounded-lg shadow mt-6' },
                    e('h2', { className: 'text-2xl font-bold mb-4' }, 'Academic Journey'),
                    e(Timeline, { positions: data.about_me.positions })
                )
            );
        };

        const News = ({ data }) => {
            const [currentNewsIndex, setCurrentNewsIndex] = useState(0);
            const [showAllNews, setShowAllNews] = useState(false);

            // Get only the 5 most recent news items for the carousel
            const recentNews = data.news.slice(0, 5);
            
            useEffect(() => {
                const timer = setInterval(() => {
                    setCurrentNewsIndex((prevIndex) => 
                        prevIndex === recentNews.length - 1 ? 0 : prevIndex + 1
                    );
                }, 5000);

                return () => clearInterval(timer);
            }, [recentNews.length]);

            const currentNews = recentNews[currentNewsIndex];

            const NewsItem = ({ news }) => e('div', { className: 'space-y-2' },
                e('p', { className: 'text-sm text-gray-500 font-medium' }, news.date),
                e('p', { className: 'mt-1' }, news.title)
            );

            return e('div', { className: 'space-y-4' },
                // Recent News Carousel
                e('div', { className: 'bg-white p-4 rounded-lg shadow hover:shadow-md transition-shadow' },
                    e('div', { className: 'flex justify-between items-center mb-2' },
                        e('h3', { className: 'font-semibold text-lg' }, 'Latest News'),
                        e('div', { className: 'flex space-x-2' },
                            e('button', {
                                onClick: () => setCurrentNewsIndex(prev => 
                                    prev === 0 ? recentNews.length - 1 : prev - 1
                                ),
                                className: 'text-gray-600 hover:text-gray-800 p-1'
                            }, '←'),
                            e('button', {
                                onClick: () => setCurrentNewsIndex(prev => 
                                    prev === recentNews.length - 1 ? 0 : prev + 1
                                ),
                                className: 'text-gray-600 hover:text-gray-800 p-1'
                            }, '→')
                        )
                    ),
                    currentNews.url 
                        ? e('a', {
                            href: currentNews.url,
                            className: 'block cursor-pointer hover:bg-gray-50 rounded transition-colors',
                            target: '_blank',
                            rel: 'noopener noreferrer'
                        }, e(NewsItem, { news: currentNews }))
                        : e(NewsItem, { news: currentNews }),
                    e('div', { className: 'flex justify-center space-x-1 mt-3' },
                        recentNews.map((_, index) => 
                            e('div', {
                                key: index,
                                className: `h-2 w-2 rounded-full ${
                                    index === currentNewsIndex ? 'bg-blue-600' : 'bg-gray-300'
                                }`
                            })
                        )
                    )
                ),
                
                // All News Section
                e('div', { className: 'mt-4' },
                    e('button', {
                        onClick: () => setShowAllNews(!showAllNews),
                        className: 'text-blue-600 hover:text-blue-800 text-sm font-medium'
                    }, showAllNews ? 'Hide All News' : 'View All News'),
                    showAllNews && e('div', { className: 'mt-4 space-y-4' },
                        data.news.map((news, index) => 
                            e('div', {
                                key: index,
                                className: 'bg-white p-4 rounded-lg shadow'
                            },
                                news.url 
                                    ? e('a', {
                                        href: news.url,
                                        className: 'block cursor-pointer hover:bg-gray-50 rounded transition-colors',
                                        target: '_blank',
                                        rel: 'noopener noreferrer'
                                    }, e(NewsItem, { news }))
                                    : e(NewsItem, { news })
                            )
                        )
                    )
                )
            );
        };

        const Publications = ({ data }) => {
            const [selectedType, setSelectedType] = useState('all');
            const [sortBy, setSortBy] = useState('year');
            const [sortOrder, setSortOrder] = useState('desc');
            
            const publicationTypes = ['all', 'journal', 'conference', 'preprint'];
            
            // Type-specific colors
            const typeColors = {
                journal: 'bg-green-100 border-green-200',
                conference: 'bg-blue-100 border-blue-200',
                preprint: 'bg-yellow-100 border-yellow-200'
            };

            const filteredPublications = data.publications
                .filter(pub => selectedType === 'all' || pub.type === selectedType)
                .sort((a, b) => {
                    if (sortBy === 'year') {
                        return sortOrder === 'desc' ? b.year - a.year : a.year - b.year;
                    }
                    // Sort by type and then by year
                    if (sortBy === 'type') {
                        if (a.type === b.type) {
                            return sortOrder === 'desc' ? b.year - a.year : a.year - b.year;
                        }
                        return a.type.localeCompare(b.type);
                    }
                    return 0;
                });

            return e('div', { className: 'space-y-4' },
                e('div', { className: 'mb-4 space-y-2' },
                    // Publication type filters
                    e('div', { className: 'flex space-x-2' },
                        publicationTypes.map(type => 
                            e('button', {
                                key: type,
                                onClick: () => setSelectedType(type),
                                className: `px-3 py-1 rounded-full text-sm ${
                                    selectedType === type 
                                        ? 'bg-blue-600 text-white' 
                                        : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                                }`
                            }, type.charAt(0).toUpperCase() + type.slice(1))
                        )
                    ),
                    // Sorting options
                    e('div', { className: 'flex items-center space-x-4' },
                        e('div', { className: 'flex items-center space-x-2 bg-gray-100 p-1 rounded-full' },
                            e('button', {
                                onClick: () => setSortBy('year'),
                                className: `px-3 py-1 rounded-full text-sm transition-colors ${
                                    sortBy === 'year'
                                        ? 'bg-white text-gray-800 shadow'
                                        : 'text-gray-600 hover:text-gray-800'
                                }`
                            }, 'Year'),
                            e('button', {
                                onClick: () => setSortBy('type'),
                                className: `px-3 py-1 rounded-full text-sm transition-colors ${
                                    sortBy === 'type'
                                        ? 'bg-white text-gray-800 shadow'
                                        : 'text-gray-600 hover:text-gray-800'
                                }`
                            }, 'Type')
                        ),
                        e('button', {
                            onClick: () => setSortOrder(sortOrder === 'desc' ? 'asc' : 'desc'),
                            className: 'text-sm text-gray-600 hover:text-gray-800'
                        },
                            sortOrder === 'desc' ? '↓ Descending' : '↑ Ascending'
                        )
                    )
                ),
                filteredPublications.map((pub, index) =>
                    e('div', {
                        key: index,
                        className: `p-4 rounded-lg shadow hover:shadow-md transition-shadow border ${
                            typeColors[pub.type] || 'bg-white'
                        }`
                    },
                        e('div', { className: 'flex justify-between items-start' },
                            e('p', { className: 'font-medium flex-grow' }, pub.title),
                            e('span', {
                                className: 'text-xs px-2 py-1 rounded-full bg-opacity-50',
                                style: { backgroundColor: pub.type === 'journal' ? '#def7ec' : 
                                                        pub.type === 'conference' ? '#e1effe' : 
                                                        '#fef3c7' }
                            }, pub.type)
                        ),
                        e('p', { className: 'text-sm text-gray-600 mt-1' },
                            pub.authors.join(', ')
                        ),
                        e('p', { className: 'text-sm text-gray-500 mt-1' },
                            `${pub.journal?.full || pub.conference?.name} (${pub.year})`
                        ),
                        pub.doi && e('a', {
                            href: pub.doi,
                            className: 'text-blue-600 hover:text-blue-800 text-sm mt-2 inline-block',
                            target: '_blank',
                            rel: 'noopener noreferrer'
                        }, 'DOI →')
                    )
                )
            );
        };

        const App = () => {
            const [activeTab, setActiveTab] = useState('about');
            const [data, setData] = useState(null);
            const [loading, setLoading] = useState(true);

            useEffect(() => {
                fetch('data.json')
                    .then(response => response.json())
                    .then(data => {
                        setData(data);
                        setLoading(false);
                    })
                    .catch(error => {
                        console.error('Error loading data:', error);
                        setLoading(false);
                    });
            }, []);

            if (loading) {
                return e('div', { className: 'min-h-screen flex items-center justify-center' },
                    e('p', { className: 'text-xl' }, 'Loading...')
                );
            }

            if (!data) {
                return e('div', { className: 'min-h-screen flex items-center justify-center' },
                    e('p', { className: 'text-xl text-red-600' }, 'Error loading data')
                );
            }

            return e('div', { className: 'min-h-screen bg-gray-50' },
                e('header', { className: 'bg-white shadow' },
                    e('div', { className: 'container mx-auto px-4 py-6' },
                        e('div', { className: 'flex justify-between items-center' },
                            e('div', null,
                                e('h1', { className: 'text-xl font-bold' }, data.about_me.name),
                                e('p', { className: 'text-gray-600 mt-1' },
                                    `${data.about_me.position} at ${data.about_me.current_institution.name}`
                                )
                            ),
                            e('div', { className: 'flex space-x-4' },
                                e(Tab, { id: 'about', label: 'About', active: activeTab === 'about', onClick: setActiveTab }),
                                e(Tab, { id: 'publications', label: 'Publications', active: activeTab === 'publications', onClick: setActiveTab })
                            )
                        )
                    )
                ),
                e('main', { className: 'container mx-auto px-4 py-8 max-w-4xl' },
                    activeTab === 'about' && e(About, { data }),
                    activeTab === 'publications' && e(Publications, { data })
                )
            );
        };

        ReactDOM.render(e(App), document.getElementById('root'));
    </script>
</body>
</html>